{
    "bonds": {
        "exclude": [
            "order_id"
        ],
        "forced": {
            "caserecnumber": {
                "mapping_table": "client_persons.caserecnumber"
            }
        },
        "orderby": {
            "casesubtype": {
                "mapping_table": "cases.casesubtype",
                "direction": "ASC"
            },
            "orderdate": {
                "mapping_table": "cases.orderdate",
                "direction": "ASC"
            }
        },
        "casrec": {
            "from_table": "order",
            "joins": [
                "LEFT JOIN casrec_csv.pat ON casrec_csv.pat.\"Case\" = casrec_csv.order.\"Case\""
            ],
            "where_clauses": [
                "casrec_csv.order.\"Bond No.\" != ''"
            ]
        },
        "sirius": {
            "from_table": "bonds",
            "joins": [
                "LEFT JOIN {target_schema}.cases ON cases.id = bonds.order_id",
                "LEFT JOIN {target_schema}.persons ON persons.id = cases.client_id"
            ],
            "where_clauses": []
        }
    },
    "cases": {
        "exclude": [
            "assignee_id",
            "caserecnumber",
            "client_id",
            "correspondent_id",
            "donor_id",
            "feepayer_id",
            "person_id"
        ],
        "forced": {
            "caserecnumber": {
                "mapping_table": "client_persons.caserecnumber"
            }
        },
        "orderby": {
            "casesubtype": {
                "mapping_table": "cases.casesubtype",
                "direction": "ASC"
            },
            "orderdate": {
                "mapping_table": "cases.orderdate",
                "direction": "ASC"
            }
        },
        "casrec": {
            "from_table": "order",
            "joins": [
                "LEFT JOIN casrec_csv.pat ON casrec_csv.pat.\"Case\" = casrec_csv.order.\"Case\""
            ],
            "where_clauses": []
        },
        "sirius": {
            "from_table": "cases",
            "joins": [
                "LEFT JOIN {target_schema}.persons ON persons.id = cases.client_id"
            ],
            "where_clauses": [
                "persons.type = 'actor_client'",
                "cases.casetype = 'ORDER'"
            ]
        }
    },
    "client_addresses": {
        "exclude": [
            "person_id",
            "address_lines",
            "town",
            "county"
        ],
        "forced": {
            "caserecnumber": {
                "mapping_table": "client_persons.caserecnumber"
            },
            "address_lines": {
                "casrec": "getCasrecAddress(\"Adrs1\", \"Adrs2\", \"Adrs3\", \"Adrs4\")",
                "sirius": "getSiriusAddress(addresses.address_lines, addresses.town, addresses.county)"
            }
        },
        "orderby": {},
        "casrec": {
            "from_table": "pat",
            "joins": [],
            "where_clauses": []
        },
        "sirius": {
            "from_table": "addresses",
            "joins": [
                "LEFT JOIN {target_schema}.persons ON persons.id = addresses.person_id"
            ],
            "where_clauses": [
                "persons.type = 'actor_client'"
            ]
        }
    },
    "client_persons": {
        "exclude": [
            "caserecnumber"
        ],
        "forced": {
            "caserecnumber": {
                "mapping_table": "client_persons.caserecnumber"
            }
        },
        "orderby": {},
        "casrec": {
            "from_table": "pat",
            "joins": [],
            "where_clauses": []
        },
        "sirius": {
            "from_table": "persons",
            "joins": [],
            "where_clauses": [
                "persons.type = 'actor_client'"
            ]
        }
    },
    "client_phonenumbers": {
        "exclude": [
            "person_id"
        ],
        "forced": {
            "caserecnumber": {
                "mapping_table": "client_persons.caserecnumber"
            }
        },
        "orderby": {},
        "casrec": {
            "from_table": "pat",
            "joins": [],
            "where_clauses": []
        },
        "sirius": {
            "from_table": "phonenumbers",
            "joins": [
                "LEFT JOIN {target_schema}.persons ON persons.id = phonenumbers.person_id"
            ],
            "where_clauses": [
                "persons.type = 'actor_client'",
                "persons.clientsource = 'CASRECMIGRATION'"
            ]
        }
    },
    "deputy_persons": {
        "exclude": [
            "caserecnumber"
        ],
        "orderby": {
            "casesubtype": {
                "mapping_table": "cases.casesubtype",
                "direction": "ASC"
            },
            "orderdate": {
                "mapping_table": "cases.orderdate",
                "direction": "ASC"
            }
        },
        "forced": {
            "caserecnumber": {
                "mapping_table": "cases.caserecnumber"
            }
        },
        "casrec": {
            "from_table": "deputyship",
            "joins": [
                "LEFT JOIN casrec_csv.order ON casrec_csv.order.\"Order No\" = casrec_csv.deputyship.\"Order No\"",
                "LEFT JOIN casrec_csv.deputy ON casrec_csv.deputyship.\"Deputy No\" = casrec_csv.deputy.\"Deputy No\""
            ],
            "where_clauses": []
        },
        "sirius": {
            "from_table": "order_deputy",
            "joins": [
                "LEFT JOIN cases ON cases.id = order_deputy.order_id",
                "LEFT JOIN persons ON persons.id = order_deputy.deputy_id"
            ],
            "where_clauses": [
                "persons.type = 'actor_deputy'",
                "persons.clientsource = 'CASRECMIGRATION'"
            ]
        }
    }
}
